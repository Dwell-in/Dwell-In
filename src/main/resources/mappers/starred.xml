<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.ssafy.home.starred.model.dao.StarredDao">
  	<select id="isStarred" parameterType="com.ssafy.home.starred.model.dto.StarredDTO" resultType="boolean">
    SELECT
      COUNT(*) > 0
    FROM
      star
    WHERE
     user_id = #{userId}
      AND apt_seq = #{aptSeq}
  	</select>
  	
  	<insert id="insertStarred" parameterType="com.ssafy.home.starred.model.dto.StarredDTO" useGeneratedKeys="true">
  	INSERT INTO star (user_id , apt_seq)
  	VALUES (#{userId} , #{aptSeq})
  	</insert>
  	
  	<delete id="deleteStarred" parameterType="com.ssafy.home.starred.model.dto.StarredDTO">
  	DELETE FROM star
  	WHERE
    user_id = #{userId}
    AND apt_seq = #{aptSeq}
  
  	</delete>
  
  </mapper>